<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MyBus Admin Login</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        :root {
            --b1: #0072ff;
            --b2: #00c6ff;
        }

        * {
            box-sizing: border-box
        }

        body {
            margin: 0;
            font-family: Poppins, system-ui, -apple-system, Segoe UI, Roboto;
            background: #f4f6fb;
            color: #333;
            min-height: 100vh;
            display: grid;
            place-items: center
        }

        .card {
            width: min(440px, 92vw);
            background: #fff;
            border-radius: 14px;
            padding: 26px 22px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, .08);
            animation: pop .4s ease
        }

        @keyframes pop {
            from {
                opacity: 0;
                transform: translateY(10px)
            }
        }

        h2 {
            margin: 0 0 8px;
            color: var(--b1);
            text-align: center
        }

        .sub {
            text-align: center;
            color: #6b7280;
            margin-bottom: 18px;
            font-size: 14px
        }

        label {
            font-weight: 600;
            margin: 8px 0 6px;
            display: block
        }

        input {
            width: 100%;
            padding: 12px;
            border: 1px solid #e5e7eb;
            border-radius: 10px;
            outline: none;
            transition: box-shadow .2s, border-color .2s
        }

        input:focus {
            border-color: var(--b1);
            box-shadow: 0 0 0 4px rgba(0, 114, 255, .15)
        }

        .row {
            display: flex;
            gap: 10px;
            margin-top: 14px
        }

        button {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 12px;
            font-weight: 700;
            cursor: pointer
        }

        .primary {
            color: #fff;
            background: linear-gradient(135deg, var(--b2), var(--b1));
            box-shadow: 0 10px 22px rgba(0, 114, 255, .25)
        }

        .primary:hover {
            filter: brightness(.98)
        }

        .ghost {
            background: #f3f4f6
        }

        .hint {
            font-size: 12px;
            color: #6b7280;
            margin-top: 10px
        }

        .toast {
            position: fixed;
            bottom: 24px;
            left: 50%;
            transform: translateX(-50%) translateY(20px);
            background: #111827;
            color: #fff;
            padding: 10px 14px;
            border-radius: 12px;
            display: none
        }
    </style>
</head>

<body>
    <div class="card">
        <h2><i class="fa-solid fa-shield-halved"></i> Admin Login</h2>
        <div class="sub">Sign in to manage buses, bookings & users</div>

        <form id="form">
            <label for="user">Username</label>
            <input id="user" placeholder="admin" required>
            <label for="pass">Password</label>
            <input id="pass" type="password" placeholder="admin123" required>
            <div class="row">
                <button class="primary" type="submit">Login</button>
                <button class="ghost" type="button" id="reset">Reset Admin</button>
            </div>
            <div class="hint">Default: <b>admin / admin123</b></div>
        </form>
    </div>

    <div id="toast" class="toast" role="status"></div>

    <script>
        /* ===== Admin seed (localStorage) ===== */
        const ADMIN_KEY = 'mybus_admin';           // {username, password}
        const SESSION_KEY = 'mybus_admin_session'; // boolean
        const showToast = (msg) => { const t = document.getElementById('toast'); t.textContent = msg; t.style.display = 'block'; t.style.opacity = '1'; setTimeout(() => { t.style.opacity = '0'; t.style.display = 'none' }, 1800) };

        function ensureAdminSeed() {
            const cur = JSON.parse(localStorage.getItem(ADMIN_KEY) || 'null');
            if (!cur) {
                localStorage.setItem(ADMIN_KEY, JSON.stringify({ username: 'Suresh', password: 'Su@1234' }));
            }
        }
        ensureAdminSeed();

        /* ===== Handlers ===== */
        document.getElementById('form').addEventListener('submit', (e) => {
            e.preventDefault();
            const u = document.getElementById('user').value.trim();
            const p = document.getElementById('pass').value;
            const admin = JSON.parse(localStorage.getItem(ADMIN_KEY));
            if (admin && u === admin.username && p === admin.password) {
                sessionStorage.setItem(SESSION_KEY, 'true');
                showToast('Login successful');
                setTimeout(() => location.href = 'admin-dashboard.html', 500);
            } else {
                showToast('Invalid credentials');
            }
        });

        document.getElementById('reset').addEventListener('click', () => {
            localStorage.setItem(ADMIN_KEY, JSON.stringify({ username: 'Suresh', password: 'Su@1234' }));
            showToast('Admin reset to default (admin/admin123)');
        });
    </script>
</body>

</html>